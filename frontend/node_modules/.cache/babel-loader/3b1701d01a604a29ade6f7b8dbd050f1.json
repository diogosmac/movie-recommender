{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\merta\\\\Desktop\\\\movie-recommender-backendimp\\\\frontend\\\\src\\\\components\\\\register.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport { Container, Paper, Button } from '@mui/material';\nimport axios from 'axios';\nimport TopAppBar from './AppBar';\nimport Typography from '@mui/material/Typography';\nimport { Link, Navigate } from 'react-router-dom';\nimport { SERVER_HOST } from '../config/global_constants';\n\nconst SignUp = () => {\n  const paperStyle = {\n    padding: \"50px 20px\",\n    width: 600,\n    margin: \"20px auto\"\n  };\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [redirectFlag, setRedirectFlag] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [errorFlag, setErrorFlag] = useState(false);\n  const [isUserLogged, setUserLogged] = useState(false);\n\n  const handleOnClick = e => {\n    e.preventDefault();\n    const user = {\n      email,\n      name,\n      password\n    };\n    setErrorFlag(false);\n\n    if (confirmPassword !== user.password) {\n      setErrorFlag(true);\n      setErrorMessage(\"Passwords don't match\");\n    } else {\n      axios.post(`${SERVER_HOST}/users/addUser`, user).then(response => {\n        setRedirectFlag(true);\n      }).catch(error => {\n        setErrorFlag(true);\n        setErrorMessage(error.response.data);\n      });\n    }\n  };\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user.accessLevel !== 0) {\n      setUserLogged(true);\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"SignUp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(TopAppBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 3,\n    style: paperStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Create an account.\"), React.createElement(Box, {\n    component: \"form\",\n    sx: {\n      '& > :not(style)': {\n        m: 'auto',\n        mt: 1,\n        width: '40ch'\n      }\n    },\n    noValidate: true,\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    label: \"E-mail\",\n    variant: \"outlined\",\n    value: email,\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    label: \"Full name\",\n    variant: \"outlined\",\n    value: name,\n    onChange: e => {\n      setName(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    label: \"Password\",\n    variant: \"outlined\",\n    type: \"password\",\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    label: \"Confirm password\",\n    variant: \"outlined\",\n    type: \"password\",\n    value: confirmPassword,\n    onChange: e => {\n      setConfirmPassword(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), errorFlag ? React.createElement(Typography, {\n    color: \"red\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, errorMessage) : '', React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"success\",\n    onClick: handleOnClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Sign up\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), \"Already have an account? \", React.createElement(Link, {\n    to: \"/LogIn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Sign in!\")))));\n};\n\nexport default register;","map":{"version":3,"sources":["C:/Users/merta/Desktop/movie-recommender-backendimp/frontend/src/components/register.js"],"names":["React","useState","useEffect","Box","TextField","Container","Paper","Button","axios","TopAppBar","Typography","Link","Navigate","SERVER_HOST","SignUp","paperStyle","padding","width","margin","email","setEmail","name","setName","password","setPassword","confirmPassword","setConfirmPassword","redirectFlag","setRedirectFlag","errorMessage","setErrorMessage","errorFlag","setErrorFlag","isUserLogged","setUserLogged","handleOnClick","e","preventDefault","user","post","then","response","catch","error","data","JSON","parse","localStorage","getItem","accessLevel","m","mt","target","value","register"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {useState, useEffect} from 'react';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport {Container, Paper, Button} from '@mui/material';\nimport axios from 'axios';\nimport TopAppBar from './AppBar';\nimport Typography from '@mui/material/Typography';\nimport { Link, Navigate } from 'react-router-dom';\nimport { SERVER_HOST } from '../config/global_constants';\n\n\nconst SignUp = () => {\n    const paperStyle = {\n        padding:\"50px 20px\",\n        width: 600,\n        margin: \"20px auto\",\n    }\n    const[email, setEmail] = useState('')\n    const[name, setName] = useState('')\n    const[password, setPassword] = useState('')\n    const[confirmPassword, setConfirmPassword] = useState('')\n    const[redirectFlag, setRedirectFlag] = useState(false)\n    const[errorMessage, setErrorMessage] = useState('')\n    const[errorFlag, setErrorFlag] = useState(false)\n    const[isUserLogged, setUserLogged] = useState(false)\n\n    const handleOnClick = (e) => {\n        e.preventDefault()\n        const user = {\n            email,\n            name,\n            password,\n        }\n        setErrorFlag(false)\n        if(confirmPassword !== user.password){\n            setErrorFlag(true)\n            setErrorMessage(\"Passwords don't match\")\n        }else{\n            axios.post(`${SERVER_HOST}/users/addUser`, user)\n            .then(response =>{\n                setRedirectFlag(true)\n            })\n            .catch(error =>{\n                setErrorFlag(true)\n                setErrorMessage(error.response.data)\n            })\n        }\n    }\n\n    useEffect(() => {\n        const user = JSON.parse(localStorage.getItem(\"user\"))\n        if(user.accessLevel!==0){\n            setUserLogged(true) \n        }\n    },[])\n\nreturn(\n    <div className=\"SignUp\">\n        <TopAppBar/>\n        <Container>\n            <Paper elevation={3} style={paperStyle}>\n                <h1>Create an account.</h1>\n                    <Box\n                     component=\"form\"\n                     sx={{\n                         '& > :not(style)': { m: 'auto', mt: 1, width: '40ch' },\n                     }}\n                     noValidate\n                     autoComplete=\"off\"\n                    >\n                        <TextField label=\"E-mail\" variant=\"outlined\"\n                            value={email}\n                            onChange = {(e) => {\n                                setEmail(e.target.value)\n                            }}/><br/>\n                        <TextField label=\"Full name\" variant=\"outlined\"\n                            value={name}\n                            onChange = {(e) => {\n                                setName(e.target.value)\n                            }}/><br/>\n                        <TextField label=\"Password\" variant=\"outlined\" type=\"password\"\n                            value={password}\n                            onChange = {(e) => {\n                                setPassword(e.target.value)\n                            }}/><br/>\n                        <TextField label=\"Confirm password\" variant=\"outlined\" type=\"password\"\n                            value={confirmPassword}\n                            onChange = {(e) => {\n                                setConfirmPassword(e.target.value)\n                            }}/><br/>\n                        {errorFlag ? <Typography color=\"red\">{errorMessage}</Typography> : ''}\n                        <Button variant=\"outlined\" color=\"success\" onClick = {handleOnClick}>Sign up</Button><br/>\n                        Already have an account? <Link to=\"/LogIn\">Sign in!</Link>\n                    </Box>\n            </Paper>\n        </Container>\n    </div>\n    );\n}\n\nexport default register;"]},"metadata":{},"sourceType":"module"}